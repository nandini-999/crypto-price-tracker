<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="container">

    <h1>Admin Dashboard</h1>

    <p><b>Total Users:</b> {{ total_users }}</p>

    <table>
        <tr>
            <th>Username</th>
            <th>Email</th>
            <th>Created At</th>
        </tr>

        {% for user in users %}
        <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.created_at }}</td>
        </tr>
        {% endfor %}
    </table>

    {% if total_users == 0 %}
        <p style="text-align:center; opacity:0.7;">
            No users registered yet
        </p>
    {% endif %}

    <div style="margin-top: 40px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px;">
        <h2>âš™ï¸ Admin Settings</h2>
        <form action="/admin/update_credentials" method="POST" style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px; max-width: 400px; margin: 0 auto;">
            <div class="form-group">
                <label>New Admin Username</label>
                <input type="text" name="new_username" placeholder="Leave blank to keep current">
            </div>
            <div class="form-group">
                <label>New Admin Password</label>
                <input type="password" name="new_password" placeholder="Leave blank to keep current">
            </div>
            <button type="submit" class="auth-btn" style="width: 100%; margin-top: 10px; background: #FF9800;">Update Credentials</button>
        </form>
    </div>

    <br>
    <a href="/admin/logout">ğŸšª Logout</a>
    <div style="text-align:center; margin: 20px;">
    <a href="/" class="auth-btn" style="background:#4facfe;">
        â¬… Back to Home
    </a>
</div>

</div>
</body>
</html>
